shiny::runApp()
runApp()
shiny::runApp()
runApp()
shiny::runApp()
runApp()
runApp()
plotly_POST(top.10, filename = "pie/donut")
library("httr")
library("jsonlite")
library("dplyr")
library("stringr")
library("ggplot2")
library("plotly")
library("plotrix")
base.uri.1 <- "http://api.nytimes.com/svc/archive/v1/"
base.uri.2 <- ".json?api-key="
api.key <- "3d4af681d88646f5afb0b40f2a1e510b"
year <- 2001
month <- 05
uri <- paste0(base.uri.1, year, "/" ,month, base.uri.2, api.key)
news.data <- fromJSON(content(GET(uri), "text"))
news.data.response <- news.data$response
news.data.response.docs <- news.data.response$docs
news.data.response.docs.headline <- news.data.response.docs$headline
news.data.response.docs.keywords <- news.data.response.docs$keywords
news.data.table <- data.frame(news.data.response.docs$pub_date,
news.data.response.docs.headline$main, news.data.response.docs$section_name)
colnames(news.data.table) <- c("Publication Date", "Headline", "Section")
news.data.table$Headline <- paste0("<a href='",news.data.response.docs$web_url,"'>",news.data.table$Headline,"</a>")
news.data.table$`Publication Date` <- str_sub(news.data.table$`Publication Date`, 1, 10)
news.data.table$Day <- str_sub(news.data.table$`Publication Date`, 9, 10)
View(news.data.table)
news.data.table$Section <- str_replace_na(news.data.table$Section, replacement = "Other")
#news.data.table <- filter(news.data.table, news.data.table$Day == "06")
data.plot <- group_by(news.data.table, Section)
data.plot2 <- summarise(data.plot,
Count = n()) %>%
arrange(-Count)
top.10 <- data.plot2[1:10, ]
plotly_POST(top.10, filename = "pie/donut")
plot1 <- ggplot(data = data.plot) +
geom_bar(mapping = aes(x = Section), fill = rainbow(n = length(data.plot2$Count)))
ggplotly(plot1)
plot2 <- ggplot(top.10, aes("", y = Count, fill = Section)) +
geom_bar(width = 1, stat = "identity") +
coord_polar(theta = "y")
plot2
ggplotly(plot2)
plotly_POST(top.10, filename = "pie/donut")
top.10 <- data.plot2[1:10, ] %>%
plot_ly(labels = ~Section, values = ~Count) %>%
add_pie(hole = 0.5) %>%
layout(title = "TOP 10 SECTIONS, DAILY BASIS",  showlegend = F,
xaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE),
yaxis = list(showgrid = FALSE, zeroline = FALSE, showticklabels = FALSE))
top.10
top.10
top.10
shiny::runApp()
runApp()
runApp()
